# Architecture Documentation â€” <%= projectName %>

> **System design decisions and technical architecture**
> Update this document when making structural changes to the codebase.

---

## ğŸ—ï¸ System Overview

**<%= projectName %>** follows a modern full-stack architecture with clear separation of concerns between frontend, backend, and data layers. The system is designed for scalability, maintainability, and developer experience.

### High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Client Layer                         â”‚
â”‚  React + TypeScript + TanStack Router + Tailwind CSS   â”‚
<% if (uiStyle !== 'default') { %>â”‚              + shadcn/ui (<%= uiStyle %> theme)              â”‚<% } %>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API Gateway Layer                      â”‚
â”‚              Hono.js + <%= apiStyle === 'orpc' ? 'oRPC' : apiStyle === 'trpc' ? 'tRPC' : 'REST' %> Endpoints              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Business Logic Layer                    â”‚
â”‚         Services + Repositories + Validation           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Data Access Layer                     â”‚
<% if (database === 'postgresql') { %>â”‚        PostgreSQL + Drizzle ORM + Connection Pool       â”‚<% } %>
<% if (database === 'turso') { %>â”‚           Turso (LibSQL) + Drizzle ORM                  â”‚<% } %>
<% if (database === 'sqlite') { %>â”‚             SQLite + Drizzle ORM                        â”‚<% } %>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Architectural Principles

### 1. Type Safety First
- **100% TypeScript** across frontend and backend
- **Strict compilation** with zero `any` types
- **Schema-driven development** with Drizzle ORM
<% if (apiStyle === 'orpc' || apiStyle === 'trpc') { %>- **End-to-end type safety** with <%= apiStyle === 'orpc' ? 'oRPC' : 'tRPC' %><% } %>

### 2. Separation of Concerns
- **Frontend:** UI components and client-side state
- **Backend:** Business logic and data processing
- **Database:** Data persistence and integrity

### 3. Progressive Enhancement
- **Server-side rendering** for initial page loads
- **Client-side routing** for navigation
<% if (pwa) { %>- **Progressive Web App** capabilities<% } %>
- **Responsive design** across all devices

### 4. Performance Optimization
- **Bundle splitting** and code splitting
- **Image optimization** and lazy loading
- **Database query optimization** with proper indexing
- **Caching strategy** for static and dynamic content

---

## ğŸ—‚ï¸ Directory Structure

### Frontend Architecture (`/src`)

```
src/
â”œâ”€â”€ main.tsx                    # Application entry point
â”œâ”€â”€ index.css                   # Global styles and theme
â”œâ”€â”€ routes/                     # Page-level components
â”‚   â”œâ”€â”€ __root.tsx              # Root layout and providers
â”‚   â”œâ”€â”€ index.tsx               # Homepage component
â”‚   â”œâ”€â”€ about.tsx               # About page component
<% if (auth.length > 0) { %>â”‚   â””â”€â”€ auth.tsx                # Authentication pages<% } %>
â”œâ”€â”€ components/                 # Reusable UI components
â”‚   â”œâ”€â”€ ui/                     # Base UI primitives
â”‚   â”‚   â”œâ”€â”€ button.tsx          # Button component
â”‚   â”‚   â”œâ”€â”€ input.tsx           # Input component
â”‚   â”‚   â”œâ”€â”€ card.tsx            # Card component
â”‚   â”‚   â””â”€â”€ ...                 # Other UI primitives
â”‚   â””â”€â”€ layout/                 # Layout components
â”‚       â”œâ”€â”€ header.tsx          # Site header
â”‚       â”œâ”€â”€ footer.tsx          # Site footer
â”‚       â””â”€â”€ navigation.tsx      # Navigation menu
â”œâ”€â”€ lib/                        # Utilities and configurations
â”‚   â”œâ”€â”€ utils.ts                # Common utility functions
<% if (apiStyle === 'orpc' || apiStyle === 'trpc') { %>â”‚   â”œâ”€â”€ api.ts                  # API client configuration<% } %>
â”‚   â””â”€â”€ auth.ts                 # Authentication utilities
<% if (database !== 'none') { %>â”œâ”€â”€ db/                         # Database layer
â”‚   â”œâ”€â”€ index.ts                # Database connection
â”‚   â”œâ”€â”€ schema.ts               # Database schema definitions
â”‚   â”œâ”€â”€ queries.ts              # Database queries
â”‚   â””â”€â”€ migrations/             # Database migrations<% } %>
<% if (auth.length > 0) { %>â”œâ”€â”€ auth/                       # Authentication
â”‚   â””â”€â”€ config.ts               # Auth configuration<% } %>
â””â”€â”€ server/                     # Backend server
    â”œâ”€â”€ index.ts                # Hono.js server entry
<% if (apiStyle === 'orpc') { %>    â””â”€â”€ api/                    # oRPC API routes<% } %>
<% if (apiStyle === 'trpc') { %>    â””â”€â”€ trpc/                   # tRPC procedures<% } %>
<% if (apiStyle === 'rest') { %>    â””â”€â”€ routes/                 # REST API routes<% } %>
```

<% if (testing.length > 0) { %>### Testing Architecture (`/tests`)

```
tests/
<% if (testing.includes('playwright')) { %>â”œâ”€â”€ e2e/                        # End-to-end tests
â”‚   â”œâ”€â”€ homepage.spec.ts        # Homepage functionality
â”‚   â”œâ”€â”€ navigation.spec.ts      # Site navigation
<% if (auth.length > 0) { %>â”‚   â””â”€â”€ auth.spec.ts            # Authentication flows<% } %><% } %>
<% if (unitTesting) { %>â”œâ”€â”€ unit/                       # Unit tests
â”‚   â”œâ”€â”€ components/             # Component tests
â”‚   â”œâ”€â”€ utils/                  # Utility function tests
â”‚   â””â”€â”€ api/                    # API endpoint tests<% } %>
<% if (testing.includes('puppeteer')) { %>â””â”€â”€ automation/                # Automation tests
    â”œâ”€â”€ performance.spec.js     # Performance testing
    â””â”€â”€ accessibility.spec.js   # Accessibility testing<% } %>
```
<% } %>

---

## ğŸ”§ Technology Stack

### Frontend Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Framework** | React 18+ | UI component library |
| **Language** | TypeScript | Type-safe development |
| **Build Tool** | Vite | Fast development and builds |
| **Routing** | TanStack Router | Type-safe client-side routing |
| **State Management** | TanStack Query | Server state management |
| **Styling** | Tailwind CSS | Utility-first CSS framework |
<% if (uiStyle !== 'default') { %>| **UI Components** | shadcn/ui | Accessible component system |<% } %>
<% if (pwa) { %>| **PWA** | Workbox | Progressive Web App features |<% } %>

### Backend Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Framework** | Hono.js | Lightweight web framework |
| **Runtime** | Bun | Fast JavaScript runtime |
<% if (apiStyle === 'orpc') { %>| **API Layer** | oRPC | Type-safe RPC framework |<% } %>
<% if (apiStyle === 'trpc') { %>| **API Layer** | tRPC | Type-safe procedure calls |<% } %>
<% if (apiStyle === 'rest') { %>| **API Layer** | REST | RESTful HTTP endpoints |<% } %>
<% if (auth.length > 0) { %>| **Authentication** | Better Auth | Multi-provider authentication |<% } %>

### Data Stack

<% if (database !== 'none') { %>| Layer | Technology | Purpose |
|-------|------------|---------|
<% if (database === 'postgresql') { %>| **Database** | PostgreSQL | Relational database |<% } %>
<% if (database === 'turso') { %>| **Database** | Turso (LibSQL) | Edge-distributed SQLite |<% } %>
<% if (database === 'sqlite') { %>| **Database** | SQLite | Local file-based database |<% } %>
| **ORM** | Drizzle | Type-safe database queries |
| **Migration** | Drizzle Kit | Schema migrations |
| **Validation** | Zod | Runtime type validation |
<% } %>

<% if (testing.length > 0) { %>### Testing Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
<% if (testing.includes('playwright')) { %>| **E2E Testing** | Playwright | Cross-browser end-to-end tests |<% } %>
<% if (unitTesting) { %>| **Unit Testing** | Vitest | Fast unit and integration tests |<% } %>
<% if (testing.includes('puppeteer')) { %>| **Automation** | Puppeteer | Browser automation and testing |<% } %>
| **Test Utils** | Testing Library | Component testing utilities |
<% } %>

### DevOps Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Containerization** | Docker | Application containerization |
| **CI/CD** | GitHub Actions | Continuous integration/deployment |
| **Package Manager** | Bun | Fast package management |
| **Type Checking** | TypeScript | Static type analysis |
| **Linting** | ESLint | Code quality enforcement |
| **Formatting** | Prettier | Code style consistency |

---

## ğŸ“Š Data Architecture

<% if (database !== 'none') { %>### Database Schema Design

#### Core Entities

```typescript
// User management
users
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ name (Text, Not Null)
â”œâ”€â”€ email (Text, Unique, Not Null)
â”œâ”€â”€ emailVerified (Boolean)
â”œâ”€â”€ image (Text, Optional)
â”œâ”€â”€ createdAt (Timestamp)
â””â”€â”€ updatedAt (Timestamp)

<% if (auth.length > 0) { %>// Authentication
accounts
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ userId (UUID, Foreign Key -> users.id)
â”œâ”€â”€ type (Text) // oauth, email
â”œâ”€â”€ provider (Text) // github, google, etc.
â”œâ”€â”€ providerAccountId (Text)
â”œâ”€â”€ refreshToken (Text, Optional)
â”œâ”€â”€ accessToken (Text, Optional)
â”œâ”€â”€ expiresAt (Integer, Optional)
â””â”€â”€ tokenType (Text, Optional)

sessions
â”œâ”€â”€ sessionToken (Text, Primary Key)
â”œâ”€â”€ userId (UUID, Foreign Key -> users.id)
â”œâ”€â”€ expires (Timestamp)
â””â”€â”€ createdAt (Timestamp)

verificationTokens
â”œâ”€â”€ identifier (Text)
â”œâ”€â”€ token (Text)
â”œâ”€â”€ expires (Timestamp)
â””â”€â”€ PRIMARY KEY (identifier, token)
<% } %>

// Application data
posts (example entity)
â”œâ”€â”€ id (UUID, Primary Key)
â”œâ”€â”€ title (Text, Not Null)
â”œâ”€â”€ content (Text)
â”œâ”€â”€ authorId (UUID, Foreign Key -> users.id)
â”œâ”€â”€ published (Boolean, Default: false)
â”œâ”€â”€ createdAt (Timestamp)
â””â”€â”€ updatedAt (Timestamp)
```

### Data Access Patterns

#### Repository Pattern
```typescript
// Generic repository interface
interface Repository<T> {
  findById(id: string): Promise<T | null>
  create(data: CreateInput<T>): Promise<T>
  update(id: string, data: UpdateInput<T>): Promise<T>
  delete(id: string): Promise<void>
  findMany(filters?: FilterInput<T>): Promise<T[]>
}

// Example implementation
export class PostRepository implements Repository<Post> {
  async findById(id: string) {
    return await db.select().from(posts).where(eq(posts.id, id))
  }
  // ... other methods
}
```

#### Query Optimization
- **Proper indexing** on frequently queried columns
- **Connection pooling** for database connections
- **Query result caching** for expensive operations
- **Pagination** for large result sets

<% } %>---

## ğŸ”— API Architecture

<% if (apiStyle === 'orpc') { %>### oRPC Implementation

#### Procedure Definition
```typescript
// src/server/api/posts.ts
import { z } from 'zod'
import { procedure, router } from './trpc'

const createPostSchema = z.object({
  title: z.string().min(1).max(100),
  content: z.string().min(1),
  published: z.boolean().default(false)
})

export const postsRouter = router({
  create: procedure
    .input(createPostSchema)
    .mutation(async ({ input, ctx }) => {
      return await ctx.db.posts.create(input)
    }),

  getById: procedure
    .input(z.string())
    .query(async ({ input, ctx }) => {
      return await ctx.db.posts.findById(input)
    }),
})
```

#### Type-Safe Client Usage
```typescript
// Frontend usage
import { api } from '@/lib/api'

// Type-safe API calls
const post = await api.posts.getById.query('post-id')
const newPost = await api.posts.create.mutate({
  title: 'My Post',
  content: 'Post content',
  published: true
})
```
<% } %>

<% if (apiStyle === 'trpc') { %>### tRPC Implementation

#### Router Definition
```typescript
// src/server/trpc/routers/posts.ts
import { z } from 'zod'
import { publicProcedure, router } from '../trpc'

export const postsRouter = router({
  getAll: publicProcedure.query(async ({ ctx }) => {
    return await ctx.db.posts.findMany()
  }),

  create: publicProcedure
    .input(z.object({
      title: z.string(),
      content: z.string(),
    }))
    .mutation(async ({ input, ctx }) => {
      return await ctx.db.posts.create(input)
    }),
})
```

#### Client Integration
```typescript
// Frontend setup
import { createTRPCReact } from '@trpc/react-query'
import type { AppRouter } from '@/server/trpc'

export const trpc = createTRPCReact<AppRouter>()

// Usage in components
function PostsList() {
  const { data: posts } = trpc.posts.getAll.useQuery()
  const createPost = trpc.posts.create.useMutation()

  return (
    // Component JSX
  )
}
```
<% } %>

<% if (apiStyle === 'rest') { %>### REST API Implementation

#### Route Structure
```
/api/
â”œâ”€â”€ /auth              # Authentication endpoints
â”‚   â”œâ”€â”€ POST /login    # User login
â”‚   â”œâ”€â”€ POST /logout   # User logout
â”‚   â””â”€â”€ GET /me        # Current user
â”œâ”€â”€ /posts             # Post management
â”‚   â”œâ”€â”€ GET /          # List posts
â”‚   â”œâ”€â”€ POST /         # Create post
â”‚   â”œâ”€â”€ GET /:id       # Get specific post
â”‚   â”œâ”€â”€ PUT /:id       # Update post
â”‚   â””â”€â”€ DELETE /:id    # Delete post
â””â”€â”€ /users             # User management
    â”œâ”€â”€ GET /          # List users
    â”œâ”€â”€ GET /:id       # Get user profile
    â””â”€â”€ PUT /:id       # Update user
```

#### Route Implementation
```typescript
// src/server/routes/posts.ts
import { Hono } from 'hono'
import { zValidator } from '@hono/zod-validator'
import { z } from 'zod'

const app = new Hono()

app.get('/', async (c) => {
  const posts = await db.posts.findMany()
  return c.json(posts)
})

app.post('/',
  zValidator('json', z.object({
    title: z.string(),
    content: z.string(),
  })),
  async (c) => {
    const data = c.req.valid('json')
    const post = await db.posts.create(data)
    return c.json(post, 201)
  }
)

export default app
```
<% } %>

---

## ğŸ” Security Architecture

<% if (auth.length > 0) { %>### Authentication Strategy

**Better Auth Configuration:**
- **Session-based authentication** with secure cookies
- **Multi-provider OAuth** support
<% auth.forEach(provider => { if (['github', 'google', 'discord', 'microsoft'].includes(provider)) { %>- **<%= provider.charAt(0).toUpperCase() + provider.slice(1) %> OAuth** integration<% }}) %>
<% if (auth.includes('email')) { %>- **Email/password** authentication with secure hashing<% } %>
- **CSRF protection** for all state-changing operations
- **Session rotation** on privilege escalation

#### Authentication Flow
```typescript
// Authentication middleware
export const authMiddleware = async (c: Context, next: Next) => {
  const session = await getSession(c)
  if (!session) {
    return c.json({ error: 'Unauthorized' }, 401)
  }
  c.set('user', session.user)
  await next()
}

// Protected route usage
app.get('/api/protected', authMiddleware, async (c) => {
  const user = c.get('user')
  return c.json({ message: `Hello ${user.name}` })
})
```
<% } %>

### Data Security

#### Input Validation
- **Zod schemas** for all API inputs
- **SQL injection protection** via Drizzle ORM
- **XSS protection** with content sanitization
- **CORS configuration** for cross-origin requests

#### Environment Security
```bash
# Required environment variables
NODE_ENV=production
<% if (database === 'postgresql') { %>DATABASE_URL=postgresql://user:pass@host:port/db<% } %>
<% if (database === 'turso') { %>DATABASE_URL=libsql://database-url.turso.io
DATABASE_AUTH_TOKEN=secret-token<% } %>
<% if (auth.length > 0) { %>BETTER_AUTH_SECRET=random-secret-key
BETTER_AUTH_URL=https://your-domain.com<% } %>
```

---

## ğŸš€ Performance Architecture

### Frontend Optimization

#### Code Splitting Strategy
```typescript
// Route-based code splitting
import { lazy } from 'react'

const HomePage = lazy(() => import('@/routes/home'))
const AboutPage = lazy(() => import('@/routes/about'))
<% if (auth.length > 0) { %>const AuthPage = lazy(() => import('@/routes/auth'))<% } %>

// Component-level splitting for large features
const Dashboard = lazy(() => import('@/components/dashboard'))
```

#### Bundle Optimization
- **Tree shaking** to eliminate dead code
- **Asset optimization** with Vite build tools
- **Image optimization** with modern formats
- **Font optimization** with variable fonts

### Backend Optimization

<% if (database !== 'none') { %>#### Database Performance
```typescript
// Optimized queries with indexes
export const findPostsByAuthor = async (authorId: string) => {
  return await db.select({
    id: posts.id,
    title: posts.title,
    createdAt: posts.createdAt
  })
  .from(posts)
  .where(eq(posts.authorId, authorId))
  .orderBy(desc(posts.createdAt))
  .limit(20)
}

// Connection pooling
const pool = new Pool({
  host: process.env.DB_HOST,
  database: process.env.DB_NAME,
  max: 20, // Maximum pool size
  min: 2,  // Minimum pool size
})
```
<% } %>

#### Caching Strategy
- **Response caching** for static content
- **Database query caching** for expensive operations
- **CDN integration** for asset delivery

---

## ğŸ“Š Monitoring & Observability

<% if (errorTracking !== 'none') { %>### Error Tracking

**<%= errorTracking === 'sentry' ? 'Sentry' : 'Bugsnag' %> Integration:**
```typescript
<% if (errorTracking === 'sentry') { %>import * as Sentry from '@sentry/react'

Sentry.init({
  dsn: import.meta.env.VITE_SENTRY_DSN,
  environment: import.meta.env.MODE,
  tracesSampleRate: 1.0,
})<% } %>
<% if (errorTracking === 'bugsnag') { %>import Bugsnag from '@bugsnag/js'

Bugsnag.start({
  apiKey: import.meta.env.VITE_BUGSNAG_API_KEY,
  appVersion: '1.0.0',
  releaseStage: import.meta.env.MODE
})<% } %>
```
<% } %>

<% if (analytics !== 'none') { %>### Analytics

**<%= analytics === 'google' ? 'Google Analytics' : analytics === 'posthog' ? 'PostHog' : 'Vercel Analytics' %> Setup:**
```typescript
<% if (analytics === 'posthog') { %>import posthog from 'posthog-js'

posthog.init(import.meta.env.VITE_POSTHOG_KEY, {
  api_host: import.meta.env.VITE_POSTHOG_HOST
})<% } %>
<% if (analytics === 'google') { %>import { gtag } from 'ga-gtag'

gtag('config', import.meta.env.VITE_GA_ID, {
  page_title: document.title,
  page_location: window.location.href
})<% } %>
```
<% } %>

### Performance Monitoring
- **Core Web Vitals** tracking
- **API response time** monitoring
- **Database query performance** analysis
- **Error rate** tracking and alerting

---

## ğŸ”„ Development Workflow

### Local Development
```bash
# Start development server
bun dev                 # Frontend + backend in development mode

<% if (database !== 'none') { %># Database operations
bun db:generate         # Generate migrations from schema changes
bun db:migrate          # Apply pending migrations
bun db:studio          # Open Drizzle Studio for database management
<% } %>

# Code quality
bun typecheck          # TypeScript type checking
bun lint               # ESLint code linting
bun format             # Prettier code formatting

<% if (testing.length > 0) { %># Testing
<% if (testing.includes('playwright')) { %>bun test:e2e           # Playwright end-to-end tests<% } %>
<% if (unitTesting) { %>bun test:unit          # Vitest unit tests<% } %>
<% if (testing.includes('puppeteer')) { %>bun test:automation    # Puppeteer automation tests<% } %>
<% } %>
```

### Production Deployment
<% if (docker) { %>```bash
# Docker deployment
docker build -t <%= projectName.toLowerCase().replace(/\s+/g, '-') %> .
docker run -p 3000:3000 --env-file .env <%= projectName.toLowerCase().replace(/\s+/g, '-') %>

# With Docker Compose
docker-compose up -d
```
<% } %>

### CI/CD Pipeline
1. **Code Push** â†’ GitHub repository
2. **Automated Testing** â†’ All test suites run
3. **Type Checking** â†’ TypeScript compilation
4. **Build Process** â†’ Optimized production build
5. **Security Scan** â†’ Dependency vulnerability check
6. **Deployment** â†’ Automatic deployment on success

---

## ğŸ“‹ Decision Records

### ADR-001: Database Choice
**Decision:** <% if (database === 'postgresql') { %>PostgreSQL with connection pooling<% } %><% if (database === 'turso') { %>Turso (LibSQL) for edge distribution<% } %><% if (database === 'sqlite') { %>SQLite for local development simplicity<% } %>

**Context:** Need reliable data persistence with type safety

**Consequences:**
- âœ… Strong consistency guarantees
- âœ… Rich query capabilities
- âœ… Excellent TypeScript integration with Drizzle
<% if (database === 'turso') { %>- âœ… Global edge distribution<% } %>

### ADR-002: Authentication Strategy
<% if (auth.length > 0) { %>**Decision:** Better Auth with multi-provider support

**Context:** Need secure, flexible authentication

**Consequences:**
- âœ… Multiple OAuth providers supported
<% if (auth.includes('email')) { %>- âœ… Email/password authentication<% } %>
- âœ… Session-based security
- âœ… CSRF protection built-in
<% } else { %>**Decision:** No authentication system initially

**Context:** Simplify initial development

**Consequences:**
- âœ… Faster initial development
- âš ï¸ Authentication can be added later
<% } %>

### ADR-003: API Design
**Decision:** <%= apiStyle === 'orpc' ? 'oRPC for type-safe RPC' : apiStyle === 'trpc' ? 'tRPC for type-safe procedures' : 'REST API with OpenAPI documentation' %>

**Context:** Need reliable client-server communication

**Consequences:**
<% if (apiStyle === 'orpc' || apiStyle === 'trpc') { %>- âœ… End-to-end type safety
- âœ… Automatic client code generation
- âœ… Excellent developer experience<% } else { %>- âœ… Standard HTTP semantics
- âœ… Easy to understand and debug
- âœ… Wide tooling support<% } %>

---

*Last Updated: <%= new Date().toLocaleDateString() %>*
*Generated by KareTech Stack*