# MCP Server Configuration for <%= projectName %>

> **Model Context Protocol (MCP)** servers provide AI assistants with access to external tools and data sources.

---

## üéØ Configured MCP Servers

This project has the following MCP servers configured:

<% if (mcpServers && mcpServers.includes('filesystem')) { %>
### üìÅ Filesystem Server
- **Purpose**: File operations within the project directory
- **Package**: `@modelcontextprotocol/server-filesystem`
- **Capabilities**: Read files, list directories, search contents
- **Auto-approved**: `read_file`, `list_directory`
<% } %>

<% if (mcpServers && mcpServers.includes('github')) { %>
### üêô GitHub Server
- **Purpose**: Repository and issue management
- **Package**: `@modelcontextprotocol/server-github`
- **Capabilities**: Issue management, PR operations, code search
- **Required**: `GITHUB_TOKEN` environment variable
- **Auto-approved**: `get_issue`, `list_issues`, `search_code`
<% } %>

<% if (mcpServers && mcpServers.includes('postgres') && database === 'postgresql') { %>
### üêò PostgreSQL Server
- **Purpose**: Database operations and schema management
- **Package**: `@modelcontextprotocol/server-postgres`
- **Capabilities**: Query execution, schema introspection, migrations
- **Required**: `DATABASE_URL` environment variable
- **Auto-approved**: `query`, `describe_table`
<% } %>

<% if (mcpServers && mcpServers.includes('playwright') && testing.includes('playwright')) { %>
### üé≠ Playwright Server
- **Purpose**: Browser automation and E2E testing
- **Package**: `@modelcontextprotocol/server-playwright`
- **Capabilities**: Page navigation, element interaction, screenshots
- **Auto-approved**: `navigate`, `screenshot`
<% } %>

---

## üîß Environment Setup

Create a `.env.local` file with the following variables:

```bash
<% if (mcpServers && mcpServers.includes('github')) { %>
# GitHub Integration
GITHUB_TOKEN=your-github-personal-access-token
<% } %>
<% if (database === 'postgresql') { %>
# Database Connection
DATABASE_URL=postgresql://user:password@localhost:5432/<%= projectName %>
<% } else if (database === 'turso') { %>
# Turso Database
DATABASE_URL=libsql://[DATABASE_ID].turso.io?authToken=[TOKEN]
<% } %>
```

---

## üìã Server Management

### Installing MCP Servers

MCP servers are installed automatically when you run:

```bash
bun install
```

### Manual Server Installation

If you need to install servers manually:

```bash
<% if (mcpServers && mcpServers.includes('filesystem')) { %>
npx -y @modelcontextprotocol/server-filesystem ./
<% } %>
<% if (mcpServers && mcpServers.includes('github')) { %>
npx -y @modelcontextprotocol/server-github
<% } %>
<% if (mcpServers && mcpServers.includes('postgres') && database === 'postgresql') { %>
npx -y @modelcontextprotocol/server-postgres
<% } %>
<% if (mcpServers && mcpServers.includes('playwright') && testing.includes('playwright')) { %>
npx -y @modelcontextprotocol/server-playwright
<% } %>
```

### Validating Server Connections

Run the health check script to verify MCP server connections:

```bash
bun run mcp:health
```

---

## üîê Security

### Auto-Approved Actions

Some low-risk actions are automatically approved:
- Reading files and directories
- Listing issues and searching code
- Basic database queries
- Browser navigation and screenshots

### Manual Approval Required

High-impact actions require manual approval:
- Writing or modifying files
- Creating or updating issues
- Database mutations
- Form submissions

### Permission Boundaries

MCP servers operate within defined boundaries:
- File operations limited to project directory
- Network access restricted to approved domains
- Dangerous bash commands are blocked

---

## üÜò Troubleshooting

### Server Connection Issues

1. **Check environment variables**: Ensure all required tokens are set
2. **Verify network access**: Some servers require internet connectivity
3. **Check permissions**: Ensure proper file system permissions

### Common Error Messages

| Error | Solution |
|-------|----------|
| `GITHUB_TOKEN not set` | Add GitHub PAT to `.env.local` |
| `DATABASE_URL invalid` | Check PostgreSQL connection string |
| `Server not found` | Run `bun install` to install dependencies |

---

## üìö Resources

- [MCP Documentation](https://modelcontextprotocol.io)
- [Claude Code Documentation](https://docs.anthropic.com/claude-code)
- [GitHub Personal Access Tokens](https://github.com/settings/tokens)

---

*Generated by create-karetech-stack v<%= cliVersion %>*
