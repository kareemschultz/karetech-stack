# GitHub MCP Server Integration

This project is configured to use the GitHub MCP server for AI-assisted repository operations.

## Setup

### 1. Generate GitHub Personal Access Token

1. Go to [GitHub Settings > Developer Settings > Personal Access Tokens](https://github.com/settings/tokens)
2. Click "Generate new token (classic)" or "Fine-grained tokens"
3. Required scopes for classic tokens:
   - `repo` - Full repository access
   - `read:org` - Read organization membership
   - `read:user` - Read user profile data
4. Copy the generated token

### 2. Configure Environment Variable

Add your token to `.env.local`:

```bash
GITHUB_TOKEN=ghp_your_token_here
```

### 3. Verify MCP Configuration

The `.mcp.json` file should contain:

```json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${GITHUB_TOKEN}"
      }
    }
  }
}
```

## Capabilities

### Issue Management

| Operation | Description |
|-----------|-------------|
| Create | Create new issues with title, body, labels, and assignees |
| Read | View issue details, comments, and metadata |
| Update | Modify issue properties and state |
| Close | Close issues with optional comment |
| Comment | Add comments to issues |
| Label | Manage issue labels |
| Search | Find issues by query, labels, or assignee |

### Pull Request Operations

| Operation | Description |
|-----------|-------------|
| Create | Create PRs from branches |
| Read | View PR details, diff, and review status |
| Review | Submit reviews (approve, request changes, comment) |
| Merge | Merge PRs with configurable strategy |
| Comment | Add line comments and PR comments |

### Repository Browsing

| Operation | Description |
|-----------|-------------|
| Browse | Navigate file structure |
| Read Files | View file contents at any ref |
| List Branches | View all branches with protection status |
| Commits | Browse commit history |
| Compare | Generate diff between branches |

## Usage Examples

### With Claude Code

Once configured, Claude Code can automatically:

1. **Create issues for discovered bugs:**
   ```
   Claude, create a GitHub issue for the type error in auth.ts
   ```

2. **Review pull requests:**
   ```
   Review PR #42 and suggest improvements
   ```

3. **Browse repository:**
   ```
   Show me the structure of the src/components directory
   ```

4. **Search for issues:**
   ```
   Find all open issues labeled "bug"
   ```

## Troubleshooting

### Token Not Working

1. Verify token has required scopes
2. Check token hasn't expired
3. Ensure `.env.local` is in `.gitignore`
4. Restart Claude Code after changing environment

### Permission Denied

1. Check repository access permissions
2. For organization repos, ensure token has org access
3. Verify you're a collaborator on the repository

### Rate Limiting

GitHub API has rate limits:
- Authenticated: 5,000 requests/hour
- Unauthenticated: 60 requests/hour

If rate limited, wait for reset or use a different token.

## Security Best Practices

1. **Never commit tokens** - Always use environment variables
2. **Minimal scopes** - Only request needed permissions
3. **Token rotation** - Regenerate tokens periodically
4. **Fine-grained tokens** - Use when possible for better security
5. **Audit access** - Review token usage in GitHub settings

---

*Generated by create-karetech-stack*
